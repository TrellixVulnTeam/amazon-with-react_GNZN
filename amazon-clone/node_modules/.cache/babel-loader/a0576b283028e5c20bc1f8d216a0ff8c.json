{"ast":null,"code":"import _toConsumableArray from\"/home/codester/github-projects/amazon-with-react/amazon-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/codester/github-projects/amazon-with-react/amazon-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";export var initialState={basket:[]};//selector\nexport var getBasketTotal=function getBasketTotal(basket){return basket===null||basket===void 0?void 0:basket.reduce(function(initialTotal,currentItem){return initialTotal+currentItem.price;},0);};var reducer=function reducer(state,action){console.log(action);switch(action.type){case\"ADD_TO_BASKET\":return _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});case\"REMOVE_FROM_BASKET\":var index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});var newBasket=_toConsumableArray(state.basket);if(index>=0){newBasket.splice(index,1);}else{console.warn(\"Cant remove product (id: \".concat(action.id,\" as its not in basket!)\"));}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});case\"SET_USER\":return _objectSpread(_objectSpread({},state),{},{user:action.user});default:return state;}};export default reducer;","map":{"version":3,"sources":["/home/codester/github-projects/amazon-with-react/amazon-clone/src/reducer.js"],"names":["initialState","basket","getBasketTotal","reduce","initialTotal","currentItem","price","reducer","state","action","console","log","type","item","index","findIndex","basketItem","id","newBasket","splice","warn","user"],"mappings":"+WAAA,MAAO,IAAMA,CAAAA,YAAY,CAAG,CAC1BC,MAAM,CAAE,EADkB,CAArB,CAGP;AACA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACD,MAAD,QAC5BA,CAAAA,MAD4B,SAC5BA,MAD4B,iBAC5BA,MAAM,CAAEE,MAAR,CACE,SAACC,YAAD,CAAeC,WAAf,QAA+BD,CAAAA,YAAY,CAAGC,WAAW,CAACC,KAA1D,EADF,CAEE,CAFF,CAD4B,EAAvB,CAMP,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACjCC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,OAAQA,MAAM,CAACG,IAAf,EACE,IAAK,eAAL,CACE,sCACKJ,KADL,MAEEP,MAAM,8BAAMO,KAAK,CAACP,MAAZ,GAAoBQ,MAAM,CAACI,IAA3B,EAFR,GAIF,IAAK,oBAAL,CACE,GAAMC,CAAAA,KAAK,CAAGN,KAAK,CAACP,MAAN,CAAac,SAAb,CACZ,SAACC,UAAD,QAAgBA,CAAAA,UAAU,CAACC,EAAX,GAAkBR,MAAM,CAACQ,EAAzC,EADY,CAAd,CAGA,GAAIC,CAAAA,SAAS,oBAAOV,KAAK,CAACP,MAAb,CAAb,CAEA,GAAIa,KAAK,EAAI,CAAb,CAAgB,CACdI,SAAS,CAACC,MAAV,CAAiBL,KAAjB,CAAwB,CAAxB,EACD,CAFD,IAEO,CACLJ,OAAO,CAACU,IAAR,oCAC8BX,MAAM,CAACQ,EADrC,6BAGD,CACD,sCACKT,KADL,MAEEP,MAAM,CAAEiB,SAFV,GAIF,IAAK,UAAL,CACE,sCACKV,KADL,MAEEa,IAAI,CAAEZ,MAAM,CAACY,IAFf,GAKF,QACE,MAAOb,CAAAA,KAAP,CA9BJ,CAgCD,CAlCD,CAoCA,cAAeD,CAAAA,OAAf","sourcesContent":["export const initialState = {\n  basket: [],\n};\n//selector\nexport const getBasketTotal = (basket) =>\n  basket?.reduce(\n    (initialTotal, currentItem) => initialTotal + currentItem.price,\n    0\n  );\n\nconst reducer = (state, action) => {\n  console.log(action);\n  switch (action.type) {\n    case \"ADD_TO_BASKET\":\n      return {\n        ...state,\n        basket: [...state.basket, action.item],\n      };\n    case \"REMOVE_FROM_BASKET\":\n      const index = state.basket.findIndex(\n        (basketItem) => basketItem.id === action.id\n      );\n      let newBasket = [...state.basket];\n\n      if (index >= 0) {\n        newBasket.splice(index, 1);\n      } else {\n        console.warn(\n          `Cant remove product (id: ${action.id} as its not in basket!)`\n        );\n      }\n      return {\n        ...state,\n        basket: newBasket,\n      };\n    case \"SET_USER\":\n      return {\n        ...state,\n        user: action.user,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}